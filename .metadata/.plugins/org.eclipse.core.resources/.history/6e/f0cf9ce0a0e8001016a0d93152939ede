package LeetCodeDaily;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class Solution_1411 {
	private static long mod=(long)1E9+7L;
	private static List<List<Integer>> oneRow=new ArrayList<>();
	
    public static int numOfWays(int n) {
    	init();
    	long[] dp=new long[n+1];
    	dp[1]=oneRow.size();
    	List<List<Integer>> pre=oneRow;
    	for(int i=2;i<=n;i++) {
    		List<List<Integer>> curRow=new ArrayList<>();
    		long curNum=0;
    		for(List<Integer> p:pre) {
    			for(List<Integer> o:oneRow) {
    				if(isOk(p,o)) {
    					curNum=(curNum%mod+1)%mod;
    					curRow.add(o);
    				}
    			}
    		}
    		System.out.println(curNum);
    		dp[i]=curNum;
    		pre=curRow;
    		System.out.println(pre);
    		System.out.println(curNum);
    	}
        System.out.println(Arrays.toString(dp));
    	return (int)dp[n];
    	
        
    }
    public static void init() {
    	//用1，2，3代表红，黄，绿
    	for(int i=1;i<=3;i++) {
    		for(int j=1;j<=3;j++) {
    			for(int k=1;k<=3;k++) {
    				if(i!=j && j!=k ) {
    					oneRow.add(List.of(i,j,k));
    				}
    			}
    		}
    	}
    }
    public static boolean isOk(List<Integer> pre,List<Integer> cur) {
    	if(pre.get(0)!=cur.get(0) && pre.get(1)!=cur.get(1) && pre.get(2)!=cur.get(2)) return true;
    	return false;
    }
    public static void main(String[] args) {
    	numOfWays(3);
    }
}
